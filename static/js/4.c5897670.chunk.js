(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[4],{101:function(e,t,n){e.exports={Auth:"Auth_Auth__2_kZr",ControlGroup:"Auth_ControlGroup__1C4bH"}},102:function(e,t,n){"use strict";n.r(t),n.d(t,"Auth",(function(){return S}));var a=n(24),i=n(4),r=n(5),l=n(6),o=n(7),u=n(0),s=n.n(u),c=n(20),d=n(14),p=n(96),h=n(34),m=n(42),g=n(101),f=n.n(g),v=n(15),b=n(3),S=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your Email"},value:"",validation:{required:!0},valid:!1,interacted:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password",autoComplete:"off"},value:"",validation:{required:!0,minLength:6},valid:!1,interacted:!1}},formIsValid:!1,isSignUp:!0},e.inputChangedHandler=function(t,n){var i=Object(b.b)(e.state.controls[n],{interacted:!0,value:t.target.value,valid:Object(b.a)(t.target.value,e.state.controls[n].validation)}),r=Object(b.b)(e.state.controls,Object(a.a)({},n,i));e.setState({controls:r});var l=e.checkFormIsValid(r);l!==e.state.formIsValid&&e.setState({formIsValid:l})},e.checkFormIsValid=function(e){var t=!0;for(var n in e)t=e[n].valid&&t;return t},e.onSubmitHandler=function(t){t.preventDefault(),e.props.onAuth(e.state.controls.email.value,e.state.controls.password.value,e.state.isSignUp)},e.switchAuthModeSignUp=function(t){t.preventDefault();var n=!e.state.isSignUp;e.setState({isSignUp:n})},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.buildingBurger||"/"===this.props.authRedirectPath||this.props.onSetRedirectPath()}},{key:"checkValidity",value:function(e,t){var n=!0;return t&&(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.minLength&&n)),n}},{key:"render",value:function(){var e=this,t=[],n=null,a=s.a.createElement(m.a,null);if(this.props.isAuthenticated)a=s.a.createElement(c.a,{to:this.props.authRedirectPath});else if(this.props.error&&(n=s.a.createElement("p",null,this.props.error.message)),!this.props.loading){for(var i in this.state.controls)t.push({id:i,config:this.state.controls[i]});a=s.a.createElement("form",{onSubmit:this.onSubmitHandler},s.a.createElement("h1",null,this.state.isSignUp?"Create New Account":"SignIn to your Account"),s.a.createElement("br",null),t.map((function(t){return s.a.createElement(p.a,{key:t.id,name:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.elementValue,changed:function(n){return e.inputChangedHandler(n,t.id)},invalid:!t.config.valid,shouldValidate:t.config.validation,interacted:t.config.interacted})})),s.a.createElement("div",{className:f.a.ControlGroup},s.a.createElement(h.a,{btnType:"Success",disabled:!this.state.formIsValid},this.state.isSignUp?"Signup":"Sign-In"),s.a.createElement(h.a,{btnType:"Danger",clicked:this.switchAuthModeSignUp},"Switch to ",this.state.isSignUp?"Sign-In":"Signup")))}return s.a.createElement("div",{className:f.a.Auth},a,n)}}]),n}(u.Component);t.default=Object(d.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:!!e.auth.token,buildingBurger:e.burgerBuilder.building,authRedirectPath:e.auth.authRedirectPath}}),(function(e){return{onAuth:function(t,n,a){return e(Object(v.b)(t,n,a))},onSetRedirectPath:function(){return e(Object(v.j)("/"))}}}))(S)},96:function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(97),l=n.n(r);t.a=function(e){var t=null,n=[l.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.interacted&&n.push(l.a.Invalid),e.elementType){case"input":t=i.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.elementValue,onChange:e.changed}));break;case"textarea":t=i.a.createElement("textarea",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.elementValue,onChange:e.changed}));break;case"select":t=i.a.createElement("select",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}),e.elementConfig.options.map((function(e){return i.a.createElement("option",{value:e.value,key:e.value},e.display)})));break;default:t=i.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.elementValue,onChange:e.changed}))}return i.a.createElement("div",{className:l.a.Input},i.a.createElement("label",null,e.label),t)}},97:function(e,t,n){e.exports={Input:"Input_Input__2oCfx",InputElement:"Input_InputElement__3uia5",Invalid:"Input_Invalid__3BX3o"}}}]);
//# sourceMappingURL=4.c5897670.chunk.js.map